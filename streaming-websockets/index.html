<!doctype html>
<html>
	<head>
		<title>WebSockets</title>
	</head>
	
	<body>
		<h1>WebSocket Messages</h1>
		<ul id="messages"></ul>
		<script type="text/javascript">
			const messages = document.getElementById('messages');
			const url = window.location.href.replace('http', 'ws');
			const webSocket = new WebSocket(url);
			
			webSocket.onmessage = (event) => {
				const container = document.createElement('li');
				container.innerText = event.data;
				
				messages.appendChild(container);
				messages.scrollTop = messages.scrollHeight;
			};
		</script>
	</body>
</html>